<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Surat Ulang Tahun</title>
  <link rel="stylesheet" href="style.css" />
  <meta name="theme-color" content="#f3c6c6" />
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Raleway:wght@300&display=swap');

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'CafeMatcha', 'Raleway', cursive;
      background: linear-gradient(-45deg, #f3c6c6, #ffe3ec, #f9dada, #fad3e7);
      background-size: 400% 400%;
      animation: gradient 15s ease infinite;
      color: #5a2a2a;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      overflow: hidden;
      padding: 20px;
      text-align: center;
    }

    @keyframes gradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .slide {
      display: none;
      font-size: 1.2em;
      line-height: 1.8;
      white-space: pre-wrap;
      max-width: 90%;
      opacity: 0;
      transition: opacity 1s ease;
      cursor: pointer;
    }

    .slide.active {
      display: block;
      opacity: 1;
    }

    .typing {
      border-right: 2px solid #5a2a2a;
      white-space: pre-wrap;
      animation: caret 0.7s infinite;
    }

    @keyframes caret {
      0%, 100% { border-color: transparent; }
      50% { border-color: #5a2a2a; }
    }

    .italic {
      font-style: italic;
    }
  </style>
</head>
<body>

  <audio autoplay loop>
    <source src="assets/backsound.mp3" type="audio/mpeg" />
  </audio>

  <!-- SLIDE PERTAMA: Sekarang bisa diklik -->
  <div class="slide active" onclick="nextSlide()">
    <span id="typing-text" class="typing"></span>
  </div>

  <script>
    const nama = localStorage.getItem("username") || "Kamu";

    const slides = [
`Hari ini... adalah hari ulang tahunmu.

Tapi ini bukan sekadar hari tentang lilin, kue, atau ucapan-ucapan cepat dari notifikasi.

Hari ini‚Ä¶ adalah waktu untuk melihat sejauh mana kamu telah bertahan.

Kamu tidak cuma bertambah usia.
Tetapi kamu bertambah cerita!
Bertambah luka!
Bertambah pelajaran!

Dan, meski jarang kamu sadari semakin lama dirimu bertambah kuat..`,

`Rico tahu, tidak semua hari itu mudah untukmu.

Kamu pernah menjalani pagi dengan mata bengkak, kadang sakit.
Kamu pernah menyembunyikan tangis dengan tawa.
Kamu pernah pura-pura kuat agar orang lain tak khawatir.
Kamu pernah merasa seperti tidak cukup.
Tidak cukup baik, Tidak cukup pintar, Tidak cukup dicintai.

Tapi‚Ä¶ kamu tetap datang.
Tetap mencoba.
Tetap hidup.

Dan itu adalah keberanian yang sering tidak dihargai.

Kamu pernah kecewa. Sangat kecewa.
Saat harapanmu tak jadi kenyataan.
Saat orang yang kamu percaya malah melukai.
Tapi kamu tidak berubah jadi pahit.

Kamu tetap punya hati yang hangat.
Tetap mau mengerti.
Bahkan saat kamu tidak dimengerti.
Kamu pernah marah. Tapi kamu memilih diam.
Kamu pernah takut. Tapi kamu tetap jalan.
Kamu pernah sedih. Tapi kamu tetap senyum.`,

`Mungkin kamu lelah.
Tapi kamu tidak menyerah.

Kadang kamu iri. Melihat orang lain terlihat lebih bahagia, lebih stabil, lebih dicintai.
Tapi kamu tidak pernah berhenti jadi diri sendiri.

Kamu pernah rindu.. 
Pada masa lalu.
Pada versi dirimu yang dulu.

Tapi kamu juga tahu..
Kamu sudah berubah.
Kamu sudah tumbuh.

Dan pertumbuhan itu tidak selalu indah, tapi selalu berarti.

Kamu tahu, kamu sudah melewati banyak badai.`,

`Ada luka yang tak pernah kamu ceritakan, tapi kamu bawa dengan diam.
Ada kesedihan yang tak ada yang tahu, tapi kamu peluk erat setiap malam.

Dan sekarang kamu di sini. Masih di sini.

Hari ini, bukan tentang pesta.
Tapi tentang pengakuan!
Bahwa kamu istimewa.
Bahwa kamu cukup.
Bahwa kamu telah memberi banyak hal pada orang-orang, pada dunia.

Bahkan saat kamu sendiri kosong.
Kamu mencintai tanpa diminta.
Kamu menguatkan orang lain sambil menahan goyahmu sendiri.
Kamu memaafkan tanpa permintaan maaf.`,

`Dan meskipun kamu sering merasa tak terlihat‚Ä¶
Rico lihat kamu!!!
Rico dengar kamu!!!
Rico perhatikan kamu!!!

Mungkin tidak semua orang berkata ini padamu hari ini‚Ä¶

Terima kasih sudah bertahan.
Terima kasih sudah hidup.
Terima kasih sudah tidak menyerah.`,

`Hari ini, rasakan semua yang kamu rasakan.
Tidak usah ditahan.

Bahagia, haru, kecewa, cemas, rindu, semua boleh datang.
Karena semua itu‚Ä¶ adalah bukti kamu hidup sepenuhnya.

Kamu bukan hanya bertambah umur.
Kamu bertambah makna.
Dan kamu pantas dirayakan.`,

`HAPPY BIRTHDAY ü§ç

Semoga tahun ini...
Kamu lebih tenang.
Lebih jujur pada dirimu sendiri.
Lebih berani untuk bahagia.

Rico doakan kamu...
Pulih tanpa terburu-buru,
Bahagia tanpa syarat,
Dicintai tanpa keraguan.

Dan semoga, kamu juga bisa mencintai dirimu...
Sedalam-dalamnya. ‚ù§Ô∏è`,

`<span class="italic">
Trimakasih telah membaca secuil pesan dari Rico..<br><br>
Maaf karna Rico tidak bisa memberikan hal yang spesial untuk dirimu..
</span>`
    ];

    let currentSlide = 0;
    let typingText = document.getElementById("typing-text");
    let isTyping = false;
    let charIndex = 0;
    let speed = 80; // dibuat lebih lambat

    function typeText(text) {
      typingText.innerHTML = "";
      charIndex = 0;
      isTyping = true;

      function typeChar() {
        if (charIndex < text.length) {
          const char = text.charAt(charIndex);
          typingText.innerHTML += char;

          let delay = speed;
          if (char === '.' || char === '\n') delay = speed + 300;

          charIndex++;
          setTimeout(typeChar, delay);
        } else {
          isTyping = false;
        }
      }

      typeChar();
    }

    function nextSlide() {
      if (isTyping) return;

      const currentEl = document.querySelector(".slide.active");
      currentEl.classList.remove("active");

      currentSlide++;
      if (currentSlide >= slides.length) return;

      const newEl = document.createElement("div");
      newEl.classList.add("slide", "active");
      newEl.onclick = nextSlide;

      const newTyping = document.createElement("span");
      newTyping.classList.add("typing");
      if (currentSlide === slides.length - 1) newTyping.classList.add("italic");
      newTyping.id = "typing-text";

      newEl.appendChild(newTyping);
      document.body.appendChild(newEl);

      setTimeout(() => {
        typeText(slides[currentSlide].replace(/\[nama\]/gi, nama));
      }, 100);
    }

    // Inisialisasi slide pertama
    slides[0] = slides[0].replace(/\[nama\]/gi, nama);
    typeText(slides[0]);
  </script>
</body>
</html>
